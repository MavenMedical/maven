<!doctype html>
<!--[if lt IE 7]>
<html class="no-js ie6 oldie" lang="en"> <![endif]-->
<!--[if IE 7]>
<html class="no-js ie7 oldie" lang="en"> <![endif]-->
<!--[if IE 8]>
<html class="no-js ie8 oldie" lang="en"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en"> <!--<![endif]-->
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="description" content="">
    <meta name="author" content="developer">
    <meta name="viewport" content="width=device-width,initialbs-example-modal-lg-scale=1">

    <style>
        * {
            -webkit-box-sizing: border-box;
            -moz-box-sizing: border-box;
            box-sizing: border-box
        }

        a {
            background: 0 0
        }

        a:active, a:hover {
            outline: 0
        }

        button, input, optgroup, select, textarea {
            color: inherit;
            font: inherit;
            margin: 0
        }

        button {
            overflow: visible
        }

        button, select {
            text-transform: none
        }

        button, html input[type=button], input[type=reset], input[type=submit] {
            -webkit-appearance: button;
            cursor: pointer
        }

        button[disabled], html input[disabled] {
            cursor: default
        }

        button::-moz-focus-inner, input::-moz-focus-inner {
            border: 0;
            padding: 0
        }

        input, button, select, textarea {
            font-family: inherit;
            font-size: inherit;
            line-height: inherit
        }

        .btn {
            display: inline-block;
            margin-bottom: 0;
            font-weight: 400;
            text-align: center;
            vertical-align: middle;
            cursor: pointer;
            background-image: none;
            border: 1px solid transparent;
            white-space: nowrap;
            padding: 6px 12px;
            font-size: 14px;
            line-height: 1.42857143;
            border-radius: 4px;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none
        }

        .btn:focus, .btn:active:focus, .btn.active:focus {
            outline: thin dotted;
            outline: 5px auto -webkit-focus-ring-color;
            outline-offset: -2px
        }

        .btn:hover, .btn:focus {
            color: #333;
            text-decoration: none
        }

        .btn:active, .btn.active {
            outline: 0;
            background-image: none;
            -webkit-box-shadow: inset 0 3px 5px rgba(0, 0, 0, .125);
            box-shadow: inset 0 3px 5px rgba(0, 0, 0, .125)
        }

        .btn.disabled, .btn[disabled], fieldset[disabled] .btn {
            cursor: not-allowed;
            pointer-events: none;
            opacity: .65;
            filter: alpha(opacity=65);
            -webkit-box-shadow: none;
            box-shadow: none
        }

        .btn-default {
            color: #333;
            background-color: #fff;
            border-color: #ccc
        }

        .btn-default:hover, .btn-default:focus, .btn-default:active, .btn-default.active, .open .dropdown-toggle.btn-default {
            color: #333;
            background-color: #ebebeb;
            border-color: #adadad
        }

        .btn-default:active, .btn-default.active, .open .dropdown-toggle.btn-default {
            background-image: none
        }

        .btn-default.disabled, .btn-default[disabled], fieldset[disabled] .btn-default, .btn-default.disabled:hover, .btn-default[disabled]:hover, fieldset[disabled] .btn-default:hover, .btn-default.disabled:focus, .btn-default[disabled]:focus, fieldset[disabled] .btn-default:focus, .btn-default.disabled:active, .btn-default[disabled]:active, fieldset[disabled] .btn-default:active, .btn-default.disabled.active, .btn-default[disabled].active, fieldset[disabled] .btn-default.active {
            background-color: #fff;
            border-color: #ccc
        }

        .btn-default .badge {
            color: #fff;
            background-color: #333
        }

        .btn-primary {
            color: #fff;
            background-color: #428bca;
            border-color: #357ebd
        }

        .btn-primary:hover, .btn-primary:focus, .btn-primary:active, .btn-primary.active, .open .dropdown-toggle.btn-primary {
            color: #fff;
            background-color: #3276b1;
            border-color: #285e8e
        }

        .btn-primary:active, .btn-primary.active, .open .dropdown-toggle.btn-primary {
            background-image: none
        }

        .btn-primary.disabled, .btn-primary[disabled], fieldset[disabled] .btn-primary, .btn-primary.disabled:hover, .btn-primary[disabled]:hover, fieldset[disabled] .btn-primary:hover, .btn-primary.disabled:focus, .btn-primary[disabled]:focus, fieldset[disabled] .btn-primary:focus, .btn-primary.disabled:active, .btn-primary[disabled]:active, fieldset[disabled] .btn-primary:active, .btn-primary.disabled.active, .btn-primary[disabled].active, fieldset[disabled] .btn-primary.active {
            background-color: #428bca;
            border-color: #357ebd
        }

        .btn-primary .badge {
            color: #428bca;
            background-color: #fff
        }

        .btn-success {
            color: #fff;
            background-color: #5cb85c;
            border-color: #4cae4c
        }

        .btn-success:hover, .btn-success:focus, .btn-success:active, .btn-success.active, .open .dropdown-toggle.btn-success {
            color: #fff;
            background-color: #47a447;
            border-color: #398439
        }

        .btn-success:active, .btn-success.active, .open .dropdown-toggle.btn-success {
            background-image: none
        }

        .btn-success.disabled, .btn-success[disabled], fieldset[disabled] .btn-success, .btn-success.disabled:hover, .btn-success[disabled]:hover, fieldset[disabled] .btn-success:hover, .btn-success.disabled:focus, .btn-success[disabled]:focus, fieldset[disabled] .btn-success:focus, .btn-success.disabled:active, .btn-success[disabled]:active, fieldset[disabled] .btn-success:active, .btn-success.disabled.active, .btn-success[disabled].active, fieldset[disabled] .btn-success.active {
            background-color: #5cb85c;
            border-color: #4cae4c
        }

        .btn-success .badge {
            color: #5cb85c;
            background-color: #fff
        }

        .btn-info {
            color: #fff;
            background-color: #5bc0de;
            border-color: #46b8da
        }

        .btn-info:hover, .btn-info:focus, .btn-info:active, .btn-info.active, .open .dropdown-toggle.btn-info {
            color: #fff;
            background-color: #39b3d7;
            border-color: #269abc
        }

        .btn-info:active, .btn-info.active, .open .dropdown-toggle.btn-info {
            background-image: none
        }

        .btn-info.disabled, .btn-info[disabled], fieldset[disabled] .btn-info, .btn-info.disabled:hover, .btn-info[disabled]:hover, fieldset[disabled] .btn-info:hover, .btn-info.disabled:focus, .btn-info[disabled]:focus, fieldset[disabled] .btn-info:focus, .btn-info.disabled:active, .btn-info[disabled]:active, fieldset[disabled] .btn-info:active, .btn-info.disabled.active, .btn-info[disabled].active, fieldset[disabled] .btn-info.active {
            background-color: #5bc0de;
            border-color: #46b8da
        }

        .btn-info .badge {
            color: #5bc0de;
            background-color: #fff
        }

        .btn-warning {
            color: #fff;
            background-color: #f0ad4e;
            border-color: #eea236
        }

        .btn-warning:hover, .btn-warning:focus, .btn-warning:active, .btn-warning.active, .open .dropdown-toggle.btn-warning {
            color: #fff;
            background-color: #ed9c28;
            border-color: #d58512
        }

        .btn-warning:active, .btn-warning.active, .open .dropdown-toggle.btn-warning {
            background-image: none
        }

        .btn-warning.disabled, .btn-warning[disabled], fieldset[disabled] .btn-warning, .btn-warning.disabled:hover, .btn-warning[disabled]:hover, fieldset[disabled] .btn-warning:hover, .btn-warning.disabled:focus, .btn-warning[disabled]:focus, fieldset[disabled] .btn-warning:focus, .btn-warning.disabled:active, .btn-warning[disabled]:active, fieldset[disabled] .btn-warning:active, .btn-warning.disabled.active, .btn-warning[disabled].active, fieldset[disabled] .btn-warning.active {
            background-color: #f0ad4e;
            border-color: #eea236
        }

        .btn-warning .badge {
            color: #f0ad4e;
            background-color: #fff
        }

        .btn-danger {
            color: #fff;
            background-color: #d9534f;
            border-color: #d43f3a
        }

        .btn-danger:hover, .btn-danger:focus, .btn-danger:active, .btn-danger.active, .open .dropdown-toggle.btn-danger {
            color: #fff;
            background-color: #d2322d;
            border-color: #ac2925
        }

        .btn-danger:active, .btn-danger.active, .open .dropdown-toggle.btn-danger {
            background-image: none
        }

        .btn-danger.disabled, .btn-danger[disabled], fieldset[disabled] .btn-danger, .btn-danger.disabled:hover, .btn-danger[disabled]:hover, fieldset[disabled] .btn-danger:hover, .btn-danger.disabled:focus, .btn-danger[disabled]:focus, fieldset[disabled] .btn-danger:focus, .btn-danger.disabled:active, .btn-danger[disabled]:active, fieldset[disabled] .btn-danger:active, .btn-danger.disabled.active, .btn-danger[disabled].active, fieldset[disabled] .btn-danger.active {
            background-color: #d9534f;
            border-color: #d43f3a
        }

        .btn-danger .badge {
            color: #d9534f;
            background-color: #fff
        }

        .btn-link {
            color: #428bca;
            font-weight: 400;
            cursor: pointer;
            border-radius: 0
        }

        .btn-link, .btn-link:active, .btn-link[disabled], fieldset[disabled] .btn-link {
            background-color: transparent;
            -webkit-box-shadow: none;
            box-shadow: none
        }

        .btn-link, .btn-link:hover, .btn-link:focus, .btn-link:active {
            border-color: transparent
        }

        .btn-link:hover, .btn-link:focus {
            color: #2a6496;
            text-decoration: underline;
            background-color: transparent
        }

        .btn-link[disabled]:hover, fieldset[disabled] .btn-link:hover, .btn-link[disabled]:focus, fieldset[disabled] .btn-link:focus {
            color: #999;
            text-decoration: none
        }

        .btn-lg, .btn-group-lg > .btn {
            padding: 10px 16px;
            font-size: 18px;
            line-height: 1.33;
            border-radius: 6px
        }

        .btn-sm, .btn-group-sm > .btn {
            padding: 5px 10px;
            font-size: 14px;
            line-height: 1.5;
            border-radius: 3px
        }

        .btn-xs, .btn-group-xs > .btn {
            padding: 1px 5px;
            font-size: 12px;
            line-height: 1.5;
            border-radius: 3px
        }

        .btn-block {
            display: block;
            width: 100%;
            padding-left: 0;
            padding-right: 0
        }

        .btn-block + .btn-block {
            margin-top: 5px
        }

        .btn-group, .btn-group-vertical {
            position: relative;
            display: inline-block;
            vertical-align: middle
        }

        .btn-group > .btn, .btn-group-vertical > .btn {
            position: relative;
            float: left
        }

        .btn-group > .btn:hover, .btn-group-vertical > .btn:hover, .btn-group > .btn:focus, .btn-group-vertical > .btn:focus, .btn-group > .btn:active, .btn-group-vertical > .btn:active, .btn-group > .btn.active, .btn-group-vertical > .btn.active {
            z-index: 2
        }

        .btn-group > .btn:focus, .btn-group-vertical > .btn:focus {
            outline: 0
        }

        .btn-group .btn + .btn, .btn-group .btn + .btn-group, .btn-group .btn-group + .btn, .btn-group .btn-group + .btn-group {
            margin-left: -1px
        }

        .btn-toolbar {
            margin-left: -5px
        }

        .btn-toolbar .btn-group, .btn-toolbar .input-group {
            float: left
        }

        .btn-toolbar > .btn, .btn-toolbar > .btn-group, .btn-toolbar > .input-group {
            margin-left: 5px
        }

        .btn-group > .btn:not(:first-child):not(:last-child):not(.dropdown-toggle) {
            border-radius: 0
        }

        .btn-group > .btn:first-child {
            margin-left: 0
        }

        .btn-group > .btn:first-child:not(:last-child):not(.dropdown-toggle) {
            border-bottom-right-radius: 0;
            border-top-right-radius: 0
        }

        .btn-group > .btn:last-child:not(:first-child), .btn-group > .dropdown-toggle:not(:first-child) {
            border-bottom-left-radius: 0;
            border-top-left-radius: 0
        }

        .btn-group > .btn-group {
            float: left
        }

        .btn-group > .btn-group:not(:first-child):not(:last-child) > .btn {
            border-radius: 0
        }

        .btn-group > .btn-group:first-child > .btn:last-child, .btn-group > .btn-group:first-child > .dropdown-toggle {
            border-bottom-right-radius: 0;
            border-top-right-radius: 0
        }

        .btn-group > .btn-group:last-child > .btn:first-child {
            border-bottom-left-radius: 0;
            border-top-left-radius: 0
        }

        .btn-group .dropdown-toggle:active, .btn-group.open .dropdown-toggle {
            outline: 0
        }

        .btn-group > .btn + .dropdown-toggle {
            padding-left: 8px;
            padding-right: 8px
        }

        .btn-group > .btn-lg + .dropdown-toggle {
            padding-left: 12px;
            padding-right: 12px
        }

        .btn-group.open .dropdown-toggle {
            -webkit-box-shadow: inset 0 3px 5px rgba(0, 0, 0, .125);
            box-shadow: inset 0 3px 5px rgba(0, 0, 0, .125)
        }

        .btn-group.open .dropdown-toggle.btn-link {
            -webkit-box-shadow: none;
            box-shadow: none
        }

        .glyphicon-thumbs-up:before {
            content: "\e125"
        }

        .glyphicon-thumbs-down:before {
            content: "\e126"
        }
    </style>

    <script type="text/javascript">

        var current_like = "";

        function enter_comment(e)
        {
            if (typeof e == 'undefined' && window.event) { e = window.event; }
            if (e.keyCode == 13)
            {
                var comment = document.getElementById('dislike_info_text_form').value;
                document.getElementById('dislike_info_text_form').value = "";
                dismiss_options();

                var url = "http://localhost/services/critique_alert?user={{ user }}&userAuth={{ user_auth }}&provider={{ provider }}"+
                          "&alert_id={{ alert_id }}&rule_id={{ rule_id }}&customer_id={{ customer }}&category=''&action_comment="+comment;
                var xmlhttp;
                if (window.XMLHttpRequest)
                {// code for IE7+, Firefox, Chrome, Opera, Safari
                    xmlhttp=new XMLHttpRequest();
                }
                else
                {// code for IE6, IE5
                    xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
                }
                xmlhttp.onreadystatechange=function(){

                    if (xmlhttp.readyState==4 && xmlhttp.status==200)
                    {
                        console.log(xmlhttp.responseText);
                    }
                }
                xmlhttp.open("GET",url,true);
                xmlhttp.send();
            }
        }

        function critique(reason){

            if (reason == "other")
            {
                document.getElementById('dislike_info_text_form').value = "";
                document.getElementById('dislike_info_text').style.display='block';
            }
            else
            {
                dismiss_options();

                var url = "http://localhost/services/critique_alert?user={{ user }}&userAuth={{ user_auth }}&provider={{ provider }}"+
                          "&alert_id={{ alert_id }}&rule_id={{ rule_id }}&customer_id={{ customer }}&category=''&action_comment="+reason;
                var xmlhttp;
                if (window.XMLHttpRequest)
                {// code for IE7+, Firefox, Chrome, Opera, Safari
                    xmlhttp=new XMLHttpRequest();
                }
                else
                {// code for IE6, IE5
                    xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
                }
                xmlhttp.onreadystatechange=function(){

                    if (xmlhttp.readyState==4 && xmlhttp.status==200)
                    {
                        console.log(xmlhttp.responseText);
                    }
                }
                xmlhttp.open("GET",url,true);
                xmlhttp.send();
            }
        }

        function dismiss_options(){
            document.getElementById('dislike_info').style.display='none';
            document.getElementById('dislike_info_text').style.display='none';
        }

        function rate(like){

            if (like=='dislike')
            {
                if (current_like != "dislike")
                {
                    //show dislike options
                    current_like = like;
                    document.getElementById('dislike_info').style.display='block';
                }
                else
                {
                    //cancel dislike
                    current_like = "";
                    dismiss_options();
                    return;
                }
            }
            else
            {
                current_like = like;
                document.getElementById('dislike_info').style.display='none';
                document.getElementById('dislike_info_text').style.display='none';
            }

            //send action
            var url = "http://localhost/services/rate_alert?user={{ user }}&userAuth={{ user_auth }}&provider={{ provider }}"+
                        "&alert_id={{ alert_id }}&rule_id={{ rule_id }}&customer_id={{ customer }}&category=test&action="+like;
            var xmlhttp;
            if (window.XMLHttpRequest)
            {   // code for IE7+, Firefox, Chrome, Opera, Safari
                xmlhttp=new XMLHttpRequest();
            }
            else
            {   // code for IE6, IE5
                xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
            }
            xmlhttp.onreadystatechange=function(){
                if (xmlhttp.readyState==4 && xmlhttp.status==200)
                {
                    console.log(xmlhttp.responseText);
                }
            }
            xmlhttp.open("GET",url,true);
            xmlhttp.send();
        }
    </script>
</head>
<body></body>
</html>