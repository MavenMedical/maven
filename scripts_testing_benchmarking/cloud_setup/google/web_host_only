sudo yum install pcre-devel zlib-devel openssl-devel gcc postgresql93 -y

#for python3
wget http://www.python.org/ftp/python/3.3.2/Python-3.3.2.tar.bz2
bzip2 -d Python-3.3.2.tar.bz2
tar -xvf Python-3.3.2.tar
cd Python-3.3.2
./configure
make -j 4
sudo make altinstall

# python db connectivity
sudo yum install python-psycopg2 -y


# first copy private key file
chmod 600 ~/.ssh/*
git clone git@github.com:MavenMedical/maven.git

cd maven
git checkout DEV

cd
# for nginx
wget http://nginx.org/packages/rhel/6/x86_64/RPMS/nginx-1.4.7-1.el6.ngx.x86_64.rpm
sudo rpm -i nginx-1.4.7-1.el6.ngx.x86_64.rpm


openssl genrsa -des3 -out server.key 2048
openssl req -new -key server.key -out server.csr
cp server.key server.key.org
openssl rsa -in server.key.org -out server.key
openssl x509 -req -days 365 -in server.csr -signkey server.key -out server.crt
sudo cp server.crt server.key /etc/nginx/conf.d/
sudo rm /etc/nginx/conf.d/default.conf /etc/nginx/conf.d/example_ssl.conf
sudo cp maven/scripts_testing_benchmarking/cloud_setup/nginx.conf /etc/nginx/conf.d/
chmod g+rx `pwd`
sudo service nginx start

sudo usermod -G <user> -a nginx

# rabbitMQ
sudo su
# begin as root
echo "[erlang-solutions]
name=Centos $releasever - $basearch - Erlang Solutions
baseurl=http://packages.erlang-solutions.com/rpm/centos/6/\$basearch
gpgcheck=1
gpgkey=http://packages.erlang-solutions.com/rpm/erlang_solutions.asc
enabled=1" > /etc/yum.repos.d/erlang.repo
exit
#end as root
cd
sudo yum install erlang -y
wget https://www.rabbitmq.com/releases/rabbitmq-server/v3.2.4/rabbitmq-server-3.2.4-1.noarch.rpm
sudo yum install esl-erlang_16.b.3-2~centos~6_amd64.rpm -y
sudo service rabbitmq-server start
sudo chkconfig rabbitmq-server on
